(this["webpackJsonpppsspp-debugger"]=this["webpackJsonpppsspp-debugger"]||[]).push([[0],{166:function(e,t,n){},385:function(e,t,n){},426:function(e,t,n){},428:function(e,t,n){},429:function(e,t,n){},430:function(e,t,n){},431:function(e,t,n){},432:function(e,t,n){},433:function(e,t,n){},434:function(e,t,n){},445:function(e,t,n){},446:function(e,t,n){},447:function(e,t,n){},448:function(e,t,n){},449:function(e,t,n){},450:function(e,t,n){},451:function(e,t,n){},452:function(e,t,n){},453:function(e,t,n){},454:function(e,t,n){},469:function(e,t,n){"use strict";n.r(t);n(120),n(129),n(130),n(131),n(132),n(133),n(134),n(135),n(136),n(137),n(138),n(139),n(140),n(141),n(142),n(180),n(182),n(183),n(184),n(185),n(186),n(188),n(144),n(191),n(192),n(93),n(196),n(197),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(209),n(210),n(211),n(212),n(213),n(216),n(217),n(218),n(219),n(151),n(220),n(222),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(153),n(239),n(240),n(241),n(242),n(244),n(245),n(246),n(247),n(248),n(250),n(252),n(253),n(255),n(256),n(257),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(155),n(276),n(277),n(278),n(279),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(157),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(112),n(306),n(307),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(371),n(372),n(374),n(375),n(376),n(377),n(379),n(164);var s=n(1),a=n.n(s),r=n(58),i=n.n(r),o=n(115),c=n.n(o),l=(n(426),n(6)),u=n(8),d=n(9),h=n(12),p=n(11),f=n(118),v=n(29),g=n(32),m=["cpu.stepping","cpu.resume"],b=2,j=function(){function e(){Object(u.a)(this,e),this.onError=null,this.onClose=null,this.socket_=null,this.pendingTickets_={},this.listeners_={}}return Object(d.a)(e,[{key:"autoConnect",value:function(){var e=this;if(null!==this.socket_)return Promise.reject(new Error("Already connected, disconnect first"));var t=new Error("Couldn't connect");return fetch("//report.ppsspp.org/match/list").then((function(e){return e.json()})).then((function(t){return e.tryNextEndpoint_(t)})).then(this.setupSocket_.bind(this),(function(e){throw t.message=e.message,t.originalError=e,t}))}},{key:"connect",value:function(e){var t=this;if(null!==this.socket_)return Promise.reject(new Error("Already connected, disconnect first"));var n=new Error("Couldn't connect to "+e);return new Promise((function(s,a){var r=new WebSocket(e,"debugger.ppsspp.org");r.onopen=function(){t.socket_=r,s()},r.onclose=function(){a(n)}})).then(this.setupSocket_.bind(this))}},{key:"disconnect",value:function(){if(null===this.socket_)throw new Error("Not connected");this.failAllPending_("Disconnected from PPSSPP"),this.socket_.close(1e3),this.socket_=null}},{key:"listen",value:function(e,t){var n=this;return e in this.listeners_||(this.listeners_[e]=[]),this.listeners_[e].push(t),{remove:function(){var s=n.listeners_[e],a=s.indexOf(t);-1!==a&&s.splice(a,1)}}}},{key:"send",value:function(e){var t=this;if(null===this.socket_)return Promise.reject(new Error("Not connected"));var n=new Error("PPSSPP returned an error");return m.includes(e.event)?(this.socket_.send(JSON.stringify(e)),Promise.resolve(null)):new Promise((function(s,a){var r=t.makeTicket_();t.pendingTickets_[r]=function(e){"error"===e.event?(n.name="DebuggerError",n.message=e.message,n.originalMessage=e,a(n)):s(e)},t.socket_.send(JSON.stringify(Object(l.a)(Object(l.a)({},e),{},{ticket:r})))}))}},{key:"setupSocket_",value:function(){var e=this;this.socket_.onclose=function(){e.onClose&&e.onClose(),e.failAllPending_("PPSSPP disconnected"),e.socket_=null},this.socket_.onmessage=function(t){try{var n=JSON.parse(t.data);"error"===n.event&&e.handleError_(n.message,n.level);var s=!1;"ticket"in n&&(s=e.handleTicket_(n.ticket,n)),e.handleMessage_(n,s)}catch(a){e.handleError_("Failed to parse message from PPSSPP: "+a.message,b)}}}},{key:"tryNextEndpoint_",value:function(e){var t=this;return new Promise((function(n,s){if(!e||0===e.length)return s(new Error("Couldn't connect automatically.  Is PPSSPP connected to the same network?"));var a="ws://"+e[0].ip+":"+e[0].p+"/debugger";return t.connect(a).then(n,(function(a){e.length>1?n(t.tryNextEndpoint_(e.slice(1))):s(a)}))}))}},{key:"handleTicket_",value:function(e,t){if(e in this.pendingTickets_){var n=this.pendingTickets_[t.ticket];return delete this.pendingTickets_[t.ticket],n(t),!0}return this.handleError_("Received mismatched ticket: "+JSON.stringify(t),b),!1}},{key:"handleMessage_",value:function(e,t){t=this.executeHandlers_(e.event,e,t),this.executeHandlers_("*",e,t)}},{key:"executeHandlers_",value:function(e,t,n){if(e in this.listeners_){var s,a=Object(g.a)(this.listeners_[e]);try{for(a.s();!(s=a.n()).done;){(0,s.value)(t,n)&&(n=!0)}}catch(r){a.e(r)}finally{a.f()}}return n}},{key:"handleError_",value:function(e,t){this.onError?this.onError(e,t):void 0===t||Number(t)===b?console.error(e):console.log(e)}},{key:"makeTicket_",value:function(){var e=Math.random().toString(36).substr(2);return e in this.pendingTickets_?this.makeTicket_():e}},{key:"failAllPending_",value:function(e){var t={event:"error",message:e,level:b};for(var n in this.pendingTickets_)this.pendingTickets_.hasOwnProperty(n)&&this.pendingTickets_[n](t);this.pendingTickets_={}}}]),e}(),y=new(function(){function e(){Object(u.a)(this,e),this.changeCallbacks_=[],this.ppsspp_=null,this.connected_=!1}return Object(d.a)(e,[{key:"init",value:function(e){this.ppsspp_=e}},{key:"change",value:function(e){this.connected_=e;var t,n=Object(g.a)(this.changeCallbacks_);try{for(n.s();!(t=n.n()).done;){(0,t.value)(e)}}catch(s){n.e(s)}finally{n.f()}}},{key:"onConnectionChange",value:function(e){var t=this;return this.changeCallbacks_.push(e),{remove:function(){var n=t.changeCallbacks_.indexOf(e);-1!==n&&t.changeCallbacks_.splice(n,1)}}}},{key:"onConnection",value:function(e){return this.connected_&&e(!0),this.onConnectionChange((function(t){t&&e(!0)}))}},{key:"listen",value:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var s=void 0;s="connection"===n?this.onConnection(e[n]):"connection.change"===n?this.onConnectionChange(e[n]):this.ppsspp_.listen(n,e[n]),t.push(s)}return t}},{key:"forget",value:function(e){var t,n=Object(g.a)(e);try{for(n.s();!(t=n.n()).done;){t.value.remove()}}catch(s){n.e(s)}finally{n.f()}}}]),e}()),O=function(){function e(){Object(u.a)(this,e),this.state={connected:!1,stepping:!1,paused:!0,started:!1,pc:0,currentThread:void 0,setState:void 0},this.stateListeners=[]}return Object(d.a)(e,[{key:"init",value:function(e){var t=this;this.state.setState=function(e){t.setState(e)},this.ppsspp_=e,this.listeners_=y.listen({connection:function(){return t.onConnection()},"connection.change":function(e){return t.onConnectionChange(e)},"cpu.stepping":function(e){return t.onStepping(e)},"cpu.resume":function(){return t.setState({stepping:!1})},"game.start":function(){t.setState({started:!0,paused:!1})},"game.quit":function(){t.setState({started:!1,stepping:!1,paused:!0,pc:0,currentThread:void 0})},"game.pause":function(){return t.setState({paused:!0})},"game.resume":function(){return t.setState({paused:!1})},"cpu.setReg":function(e){0===e.category&&32===e.register&&t.setState({pc:e.uintValue})},"cpu.getAllRegs":function(e){var n=e.categories[0].uintValues[32];t.setState({pc:n})}})}},{key:"shutdown",value:function(){y.forget(this.listeners_),this.listeners_=null}},{key:"onConnectionChange",value:function(e){this.setState({connected:e,started:!1,stepping:!1,paused:!0}),e||this.setState({currentThread:void 0})}},{key:"onConnection",value:function(){var e=this;this.ppsspp_.send({event:"cpu.status"}).then((function(t){var n=t.stepping,s=t.paused,a=t.pc,r=0!==a||n;e.setState({connected:!0,started:r,stepping:n,paused:s,pc:a})}),(function(t){e.setState({stepping:!1,paused:!0})}))}},{key:"onStepping",value:function(e){this.setState({stepping:!0,pc:e.pc})}},{key:"listenState",value:function(e){this.stateListeners.push(e)}},{key:"setState",value:function(e){var t=!1;for(var n in e)e[n]!==this.state[n]&&(t=!0);if(t){this.state=Object(l.a)(Object(l.a)({},this.state),e);var s,a=Object(g.a)(this.stateListeners);try{for(a.s();!(s=a.n()).done;){(0,s.value)(this.state)}}catch(r){a.e(r)}finally{a.f()}}}}]),e}(),k=n(0),x={ppsspp:null,gameStatus:null,log:function(e){return console.error(e)}},S=Object(s.createContext)(x);S.displayName="DebuggerContext";var C=S;function _(e){var t=e.children,n=e.gameStatus,s=e.log,a=e.ppsspp;return Object(k.jsx)(S.Provider,{value:{gameStatus:n,log:s,ppsspp:a},children:t})}var w=n(392),D=(n(166),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).handleRequestClose=function(){e.props.confirmClose&&!window.confirm(e.props.confirmClose)||e.props.onClose()},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(k.jsx)(c.a,Object(l.a)({className:"ReactModal__FitContent",overlayClassName:"ReactModal__FitOverlay",onRequestClose:this.handleRequestClose,closeTimeoutMS:150},this.props))}}]),n}(s.PureComponent)),T=n(393),P=n(74),N=["label","type","children","onChange","component","prop"],B=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).handleChange=function(t){if(e.props.onChange)e.props.onChange(t);else if(e.props.component){var n=t.target,s=n.dataset.prop||e.props.prop,a="checkbox"===n.type?n.checked:n.value;e.props.component.setState(Object(P.a)({},s,a))}},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.children;return Object(k.jsxs)("div",{className:"Field",children:[Object(k.jsx)("label",{className:"Field__label",htmlFor:this.fieldID(),children:t}),this.renderInput(),n]})}},{key:"renderInput",value:function(){return"text"===this.props.type?this.renderText():"hex"===this.props.type?this.renderHex():"radio"===this.props.type?this.renderRadio():"checkboxes"===this.props.type?this.renderCheckboxes():null}},{key:"renderText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=(t.label,t.type,t.children,t.onChange,t.component,t.prop,Object(T.a)(t,N));return n.value=this.fieldValue(),Object(k.jsx)("input",Object(l.a)(Object(l.a)({type:"text",id:this.fieldID(),onChange:this.handleChange},n),e))}},{key:"renderHex",value:function(){return this.renderText({pattern:"(0x)?[0-9A-Fa-f]+",title:"Hexadecimal value"})}},{key:"renderRadio",value:function(){var e=this,t=this.fieldValue();return this.props.options.map((function(n){var s={name:e.fieldID(),value:n.value,checked:t===n.value,onChange:e.handleChange,disabled:e.props.disabled};return Object(k.jsxs)("label",{children:[Object(k.jsx)("input",Object(l.a)({type:"radio"},s))," "+n.label]},n.value)}))}},{key:"renderCheckboxes",value:function(){var e=this;return this.props.options.map((function(t){var n={"data-prop":t.value,checked:e.props.component.state[t.value],onChange:e.handleChange,disabled:e.props.disabled};return Object(k.jsxs)("label",{children:[Object(k.jsx)("input",Object(l.a)({type:"checkbox"},n))," "+t.label]},t.value)}))}},{key:"fieldID",value:function(){var e=this.props,t=e.id,n=e.component,s=e.prop;return!t&&n&&s?(n.displayName||n.constructor.name)+"__"+s:t}},{key:"fieldValue",value:function(){var e=this.props,t=e.value,n=e.component,s=e.prop;return void 0===t&&n&&s?n.state[s]:t}}]),n}(s.Component),L=n(5),R=n.n(L),M=n(15);n(428);function V(e){return Object(k.jsxs)("form",{action:"#",className:Object(M.a)(e.className,"Form"),onSubmit:e.onSubmit,children:[e.heading?Object(k.jsx)("h2",{className:"Form__heading",children:e.heading}):null,e.children]})}V.Buttons=function(e){var t=!0!==e.onSave?e.onSave:void 0,n=e.onSave?Object(k.jsx)("button",{onClick:t,children:"Save"}):null,s=e.onCancel?Object(k.jsx)("button",{type:"button",onClick:e.onCancel,children:"Cancel"}):null;return Object(k.jsxs)("div",{className:"Form__buttons",children:[e.children,n,s]})},V.Buttons.propTypes={onSave:R.a.oneOfType([R.a.func,R.a.bool]),onCancel:R.a.func,children:R.a.node};var A=V,F=function(){function e(t,n){Object(u.a)(this,e),this.func=t,this.ms=n}return Object(d.a)(e,[{key:"start",value:function(){var e=this;this.cancel(),this.handle=setTimeout((function(){e.handle=null,e.func()}),this.ms)}},{key:"reset",value:function(e){this.func=e}},{key:"runEarly",value:function(){this.handle&&(this.cancel(),this.func())}},{key:"cancel",value:function(){null!==this.handle&&(clearTimeout(this.handle),this.handle=null)}}]),e}();function E(e){return("00000000"+e.toString(16).toUpperCase()).substr(-8)}n(429);var I=[{label:"Memory",value:"memory"},{label:"Execute",value:"execute"}],U=[{label:"Read",value:"read"},{label:"Write",value:"write"},{label:"On change",value:"change"}],H=[{label:"Break",value:"enabled"},{label:"Log",value:"log"}],G=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).state={},s.cleanState={isOpen:!1,derivedBreakpoint:null},s.cleanBreakpoint={type:"memory",address:"",size:"0x00000001",condition:"",logFormat:"",read:!0,write:!0,change:!1,enabled:!0,log:!0},s.onSave=function(e){var t=s.context.ppsspp.send({event:"cpu.evaluate",thread:s.context.gameStatus.currentThread,expression:s.state.address});if(s.props.breakpoint){var n=s.state,a=n.derivedBreakpoint,r=n.address,i=n.size,o=n.type;t=o!==a.type||a.address!==r||"memory"===o&&a.size!==i?t.then(s.deleteOld).then(s.saveNew):t.then(s.updateExisting)}else t=t.then(s.saveNew);t.then(s.onClose,(function(e){window.alert(e.message)})),e.preventDefault()},s.saveNew=function(e){var t=e.uintValue;return s.context.ppsspp.send(Object(l.a)(Object(l.a)({event:s.getEvent(s.state.type,"add")},s.state),{},{address:t}))},s.deleteOld=function(e){var t=e.uintValue;return s.context.ppsspp.send({event:s.getEvent(s.props.breakpoint.type,"remove"),address:s.props.breakpoint.address}).then((function(){return{uintValue:t}}))},s.updateExisting=function(e){var t=e.uintValue;return s.context.ppsspp.send(Object(l.a)(Object(l.a)({event:s.getEvent(s.state.type,"update")},s.state),{},{address:t}))},s.onClose=function(){s.cleanTimeout.start(),s.props.onClose()},Object.assign(s.state,Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},s.cleanState),s.cleanBreakpoint),e.breakpoint),e.initialOverrides)),s.cleanTimeout=new F((function(){s.setState(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},s.cleanState),s.cleanBreakpoint),s.props.breakpoint),s.props.initialOverrides))}),200),s}return Object(d.a)(n,[{key:"render",value:function(){var e=!!this.props.breakpoint;return Object(k.jsx)(D,{contentLabel:"Breakpoint settings",isOpen:this.props.isOpen,onClose:this.onClose,confirmClose:this.hasChanges()?"Discard changes?":null,children:Object(k.jsxs)(A,{heading:e?"Edit Breakpoint":"Create Breakpoint",onSubmit:this.onSave,className:"BreakpointModal",children:[Object(k.jsx)(B,{type:"radio",label:"Type",options:I,prop:"type",component:this}),Object(k.jsx)(B,{type:"text",label:"Address",prop:"address",component:this}),this.renderMemory(),this.renderExecute(),Object(k.jsx)(B,{type:"text",label:"Log format",prop:"logFormat",component:this,disabled:!this.state.log}),Object(k.jsx)(B,{type:"checkboxes",label:"Actions",options:H,component:this}),Object(k.jsx)(A.Buttons,{onSave:!0,onCancel:this.onClose})]})})}},{key:"renderMemory",value:function(){return"memory"!==this.state.type?null:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(B,{type:"hex",label:"Size",prop:"size",component:this}),Object(k.jsx)(B,{type:"checkboxes",label:"Operations",options:U,component:this})]})}},{key:"renderExecute",value:function(){return"execute"!==this.state.type?null:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(B,{type:"text",label:"Condition",prop:"condition",component:this})})}},{key:"hasChanges",value:function(){var e=this,t=this.state.derivedBreakpoint||this.cleanBreakpoint;return void 0!==Object.keys(t).find((function(n){return e.state[n]!==t[n]}))}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&null!=this.cleanTimeout&&this.cleanTimeout.runEarly()}},{key:"getEvent",value:function(e,t){if("execute"===e)return"cpu.breakpoint."+t;if("memory"===e)return"memory.breakpoint."+t;throw new Error("Unexpected type: "+e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.isOpen&&!t.isOpen){var n=e.breakpoint;n&&(n.address="0x"+E(n.address),n.condition=n.condition||"",n.logFormat=n.logFormat||"");var s=e.initialOverrides;return s&&(s.address="0x"+E(s.address)),Object(l.a)(Object(l.a)({isOpen:!0},n),{},{derivedBreakpoint:n},s)}return!e.isOpen&&t.derivedBreakpoint?{derivedBreakpoint:null}:null}}]),n}(s.PureComponent);G.contextType=C;var q=G,z=n(18),W=!0,K=[];function J(){var e=document.getElementById("clipboard-scratchpad");return e||function(){var e=document.createElement("div");return e.id="clipboard-scratchpad",e.style.width=1,e.style.height=1,e.style.opacity=0,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.pointerEvents="none",e.style.whiteSpace="pre",document.body.appendChild(e),e}()}function X(e){W=!1;try{var t=J();t.textContent=e;var n=t.firstChild,s=document.createRange();s.setStart(n,0),s.setEnd(n,e.length);var a=window.getSelection(),r=0!==a.rangeCount?a.getRangeAt(0):null;a.removeAllRanges(),a.addRange(s);try{document.execCommand("copy")}catch(i){window.prompt("Use Ctrl-C or Command-C to copy",e)}a.removeAllRanges(),r&&a.addRange(r)}finally{W=!0}}function Y(e,t){for(;e&&e!==document;){if(e.matches(t))return!0;e=e.parentNode}return!1}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),document.addEventListener("copy",(function(e){var t=0!==document.getSelection().rangeCount?document.getSelection().getRangeAt(0):null;if((!t||t.collapsed)&&W){var n,s=Object(g.a)(K);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(Y(document.activeElement,a.selector)){var r=a.handler(e);r&&(/win/i.test(window.navigator.platform)?e.clipboardData.setData("text/plain",r.replace(/\n/g,"\r\n")):e.clipboardData.setData("text/plain",r),e.preventDefault())}}}catch(i){s.e(i)}finally{s.f()}}}));var $=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).handleCopyAddress=function(e,t){X(E(t.line.address)),t.node.focus()},e.handleCopyHex=function(t,n){X(e.props.getSelectedLines().map((function(e){return e.macroEncoding?e.macroEncoding.map(E).join("\n"):E(e.encoding)})).join("\n")),n.node.focus()},e.handleCopyDisasm=function(t,n){X(e.props.getSelectedDisasm()),n.node.focus()},e.handleAssemble=function(t,n){setTimeout((function(){e.props.assembleInstruction(n.line,"").catch((function(){}))}),0)},e.handleRunUntil=function(t,n){e.context.ppsspp.send({event:"cpu.runUntil",address:n.line.address}).catch((function(){})),n.node.focus()},e.handleJumpPC=function(t,n){e.context.ppsspp.send({event:"cpu.setReg",thread:e.context.gameStatus.currentThread,name:"pc",value:n.line.address}).catch((function(t){e.context.log("Failed to update PC: "+t)}))},e.handleToggleBreakpoint=function(t,n){e.props.toggleBreakpoint(n.line)},e.handleFollowBranch=function(t,n){e.props.followBranch(!0,n.line)},e.handleTodo=function(e,t){console.log(t),t.node.focus()},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.trigger,s=!this.context.gameStatus.stepping||this.context.gameStatus.paused,a=n&&n.line,r=a&&(null!==a.branch||null!==a.relevantData||"data"===a.type);return Object(k.jsxs)(z.a,{id:t,children:[Object(k.jsx)(z.c,{onClick:this.handleCopyAddress,children:"Copy Address"}),Object(k.jsx)(z.c,{onClick:this.handleCopyHex,children:"Copy Instruction (Hex)"}),Object(k.jsx)(z.c,{onClick:this.handleCopyDisasm,children:"Copy Instruction (Disasm)"}),Object(k.jsx)(z.c,{divider:!0}),Object(k.jsx)(z.c,{disabled:s,onClick:this.handleAssemble,children:"Assemble Opcode..."}),Object(k.jsx)(z.c,{divider:!0}),Object(k.jsx)(z.c,{disabled:s,onClick:this.handleRunUntil,children:"Run to Cursor"}),Object(k.jsx)(z.c,{disabled:s,onClick:this.handleJumpPC,children:"Jump to Cursor"}),Object(k.jsx)(z.c,{onClick:this.handleToggleBreakpoint,children:"Toggle Breakpoint"}),Object(k.jsx)(z.c,{divider:!0}),Object(k.jsx)(z.c,{disabled:!r,onClick:this.handleFollowBranch,children:"Follow Branch"}),Object(k.jsx)(z.c,{data:{action:"goto_memory"},onClick:this.handleTodo,children:"Go to in Memory View"}),Object(k.jsx)(z.c,{data:{action:"goto_jit"},onClick:this.handleTodo,children:"Go to in Jit Compare"}),Object(k.jsx)(z.c,{divider:!0}),Object(k.jsx)(z.c,{data:{action:"func_rename"},onClick:this.handleTodo,children:"Rename Function..."}),Object(k.jsx)(z.c,{data:{action:"func_remove"},onClick:this.handleTodo,children:"Remove Function"}),Object(k.jsx)(z.c,{data:{action:"func_add"},onClick:this.handleTodo,children:"Add Function Here"})]})}}]),n}(s.PureComponent);$.contextType=C;var Q=Object(z.d)("disasm")($),Z=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.calcPos();if(null===e||0===this.props.lineHeight)return null;var t=Object(M.a)({DisasmBranchGuide:!0,"DisasmBranchGuide--selected":this.props.selected});return Object(k.jsx)("div",{className:t,style:e,children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:e.height,children:Object(k.jsx)("path",{d:this.buildPath(e.height)})})})}},{key:"buildPath",value:function(e){var t=this.props,n=t.guide,s=t.range,a=t.lineHeight,r=Math.floor(a/2)+.5,i="m7.5,-".concat(r," l0,").concat(a," m-7.5,-").concat(a-r),o="m3,0 l5,0 m-8,0",c="m5.5,-4 l-4,4 l4,4 m-3.5,-4 l6,0 m-8,0",l=["M0,"+r];return n.top<s.start?l.push(i):"up"===n.direction?l.push(c):l.push(o),l.push("m7.5,0 l0,"+(e-a)+" m-7.5,0"),n.bottom>=s.end?l.push(i):"down"===n.direction?l.push(c):l.push(o),l.join(" ")}},{key:"calcPos",value:function(){var e=this.props.guide,t=this.findAddressOffset(e.top,!1),n=this.findAddressOffset(e.bottom,!0);return null===t||null===n?null:{top:t,right:8*(16-e.lane),height:n-t}}},{key:"findAddressOffset",value:function(e,t){var n,s=this.props,a=s.offsets,r=s.range;if(e>=r.end)return r.end-4 in a&&t?a[r.end-4]+this.props.lineHeight:r.end-8 in a&&t?a[r.end-8]+this.props.lineHeight:null;if(e<r.start&&!t)n=0;else if(e in a)n=a[e];else{if(!(e-4 in a))return null;n=a[e-4]}return t?n+this.props.lineHeight:n}}]),n}(s.PureComponent);function ee(e,t){return!(e.top<t.top||e.left<t.left)&&!(e.bottom>t.bottom||e.right>t.right)}function te(e,t){return!function(e){var t={top:0,left:0,bottom:window.innerHeight,right:window.innerWidth},n=e.getBoundingClientRect();if(!ee(n,t))return!1;for(var s=e;null!==(s=s.parentNode);)if(s instanceof HTMLElement){var a=window.getComputedStyle(s),r=a.overflow+a.overflowX+a.overflowY;if("static"===a.position&&-1===r.indexOf("auto")&&-1===r.indexOf("scroll"))continue;if(!ee(n,s.getBoundingClientRect()))return!1}return!0}(e)&&(e.scrollIntoView(t),!0)}var ne=!1;function se(){return ne}function ae(e){return Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,viewBox:"0 0 1536 1536",width:"12",height:"12",children:Object(k.jsx)("path",{d:"M768,0 q209,0 385.5,103 t279.5,279.5 t103,385.5 t-103,385.5 t-279.5,279.5 t-385.5,103 t-385.5,-103 t-279.5,-279.5 t-103,-385.5 t103,-385.5 t279.5,-279.5 t385.5,-103 zm128,1247 v-190 q0,-14 -9,-23.5 t-22,-9.5 h-192 q-13,0 -23,10 t-10,23 v190 q0,13 10,23 t23,10 h192 q13,0 22,-9.5 t9,-23.5 zm-2,-344 l18,-621 q0,-12 -10,-18 q-10,-8 -24,-8 h-220 q-14,0 -24,8 q-10,6 -10,18 l17,621 q0,10 10,17.5 t24,7.5 h185 q14,0 23.5,-7.5 t10.5,-17.5 z"})})}window.addEventListener("REACT_CONTEXTMENU_SHOW",(function(e){ne=!0})),window.addEventListener("REACT_CONTEXTMENU_HIDE",(function(e){ne=!1}));var re=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).ref=Object(s.createRef)(),a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.line,s=t.selected,a=t.focused,r=t.cursor,i=Object(M.a)({DisasmLine:!0,"DisasmLine--selected":s&&!a,"DisasmLine--focused":a,"DisasmLine--cursor":r,"DisasmLine--breakpoint":n.breakpoint&&n.breakpoint.enabled,"DisasmLine--disabled-breakpoint":n.breakpoint&&!n.breakpoint.enabled,"DisasmLine--current":n.isCurrentPC}),o=function(t){return{line:n,node:e.ref.current.parentNode}},c={onDoubleClick:function(t){return e.onDoubleClick(t,o())},tabIndex:0};return Object(k.jsx)(z.b,{id:this.props.contextmenu,renderTag:"a",collect:o,attributes:c,holdToDisplay:-1,children:Object(k.jsxs)("div",{className:i,style:{backgroundColor:n.backgroundColor},ref:this.ref,"data-address":n.address,children:[Object(k.jsx)(ae,{className:"DisasmLine__breakpoint-icon"}),this.renderAddress(n),Object(k.jsxs)("code",{className:"DisasmLine__opcode",children:[this.highlight(n.name,"",n.params)," "]}),Object(k.jsxs)("code",{className:"DisasmLine__params",children:[this.highlightParams(n.params,n.name,""),this.renderConditional(n)]})]})})}},{key:"renderAddress",value:function(e){var t=e.symbol,n=e.address,s=e.encoding,a=E(n);return this.props.displaySymbols?null!==t?Object(k.jsx)("code",{className:"DisasmLine__address DisasmLine__address--symbol",children:this.highlight(t+":")}):Object(k.jsx)("code",{className:"DisasmLine__address DisasmLine__address--nosymbol",children:this.highlight(a)}):Object(k.jsxs)("code",{className:"DisasmLine__address DisasmLine__address--hexonly",children:[this.highlight(a)," ",E(s)]})}},{key:"renderConditional",value:function(e){return e.isCurrentPC&&null!==e.conditionMet?e.conditionMet?" ; true":" ; false":""}},{key:"highlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=this.props.highlight;if(null!==s){var a=(t?t+" ":"")+e+" "+n,r=a.toLowerCase().indexOf(s),i=s.length;if(-1!==r){var o=t?t.length+1:0;r<o?r=(i-=o-r)>0?0:-1:r-=o}if(r>=0&&r<e.length){var c=Object(M.a)({DisasmLine__highlight:!0,"DisasmLine__highlight--end":r+i>e.length+1});return Object(k.jsxs)(k.Fragment,{children:[e.substr(0,r),Object(k.jsx)("span",{className:c,children:e.substr(r,i)}),e.substr(r+i)]})}}return e}},{key:"highlightParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=this.props,a=s.highlight,r=s.highlightParams;if(null===a){var i=e.split(/([,()])/),o=r||[];return i.map((function(e,t){var n="DisasmLine__param";return o.includes(e)&&(n+=" DisasmLine__param--highlighted"),Object(k.jsx)("span",{className:n,children:e},t)}))}return this.highlight(e,t,n)}},{key:"onDoubleClick",value:function(e,t){0===e.button&&this.props.onDoubleClick(e,t)}},{key:"ensureInView",value:function(e){var t=this.ref.current.parentNode;!1!==e&&te(t,{block:e}),t.focus()}}],[{key:"addressBoundingTop",value:function(e,t){var n=e.querySelector('.DisasmLine[data-address="'+t+'"]');return n?n.parentNode.getBoundingClientRect().top:null}}]),n}(s.PureComponent),ie=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={mouseDown:!1,focused:!1,lineOffsets:{},pendingLineParams:[],selectedLineParams:[],prevLines:null,prevSelectionTop:null,prevSelectionBottom:null},a.onCopy=function(e){return a.props.getSelectedDisasm()},a.ref=Object(s.createRef)(),a.cursorRef=Object(s.createRef)(),a.focusTimeout=new F((function(){return null}),20),a.paramsTimeout=new F((function(){a.setState({selectedLineParams:a.state.pendingLineParams})}),20),a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t={onMouseDownCapture:function(t){return e.onMouseDown(t)},onMouseUpCapture:this.state.mouseDown?function(t){return e.onMouseUp(t)}:void 0,onMouseMove:this.state.mouseDown?function(t){return e.onMouseMove(t)}:void 0,onKeyDown:function(t){return e.onKeyDown(t)},onBlur:function(t){return e.onFocusChange(t,!1)},onFocus:function(t){return e.onFocusChange(t,!0)}};return Object(k.jsxs)("div",Object(l.a)(Object(l.a)({className:"Disasm__list",ref:this.ref},t),{},{children:[this.props.lines.map((function(t){return e.renderLine(t)})),this.props.branchGuides.map((function(t){return e.renderBranchGuide(t)}))]}))}},{key:"renderLine",value:function(e){var t=this.props,n=t.displaySymbols,s=t.cursor,a={displaySymbols:n,line:e,selected:this.isLineSelected(e),cursor:e.address===s,onDoubleClick:this.props.onDoubleClick,ref:e.address===s?this.cursorRef:void 0,highlight:this.shouldHighlight(e,this.props.highlightText)?this.props.highlightText:null,highlightParams:this.shouldHighlightParams(e)?this.state.selectedLineParams:null};return a.focused=a.selected&&this.state.focused,Object(k.jsx)(re,Object(l.a)({contextmenu:"disasm"},a),e.address)}},{key:"renderBranchGuide",value:function(e){var t=String(e.top)+String(e.bottom)+e.direction,n=this.props,s=n.range,a=n.lineHeight,r=n.cursor,i={key:t,guide:e,offsets:this.state.lineOffsets,range:s,lineHeight:a,selected:e.top===r||e.bottom===r};return Object(k.jsx)(Z,Object(l.a)({},i))}},{key:"shouldHighlight",value:function(e,t){var n=[];return n.push(E(e.address)),null!==e.symbol&&n.push(e.symbol+":"),n.push(e.name+" "+e.params),n.some((function(e){return-1!==e.toLowerCase().indexOf(t)}))}},{key:"shouldHighlightParams",value:function(e,t){return!this.isLineSelected(e)&&this.state.selectedLineParams.some((function(t){return-1!==e.params.indexOf(t)}))}},{key:"addressBoundingTop",value:function(e){return re.addressBoundingTop(this.ref.current,e)}},{key:"ensureCursorInView",value:function(e){this.cursorRef.current&&this.cursorRef.current.ensureInView(e)}},{key:"isLineSelected",value:function(e){return n.isLineSelected(this.props,e)}},{key:"componentDidMount",value:function(){var e,t;e=".Disasm__list",t=this.onCopy,K.push({selector:e,handler:t})}},{key:"componentWillUnmount",value:function(){var e,t;e=".Disasm__list",t=this.onCopy,K=K.filter((function(n){return n.selector!==e&&n.handler!==t})),this.paramsTimeout.cancel()}},{key:"componentDidUpdate",value:function(e,t){this.state.pendingLineParams!==t.pendingLineParams&&this.paramsTimeout.start()}},{key:"onFocusChange",value:function(e,t){var n=this,s=function(){t!==n.state.focused&&n.setState({focused:t})};this.focusTimeout.cancel(),t?s():(this.focusTimeout.reset(s),this.focusTimeout.start())}},{key:"onMouseDown",value:function(e){var t=this.mouseEventToLine(e);2===e.button&&this.isLineSelected(t)?this.props.updateCursor(t.address):this.applySelection(e,t),0===e.button&&this.setState({mouseDown:!0})}},{key:"onMouseUp",value:function(e){var t=this.mouseEventToLine(e);t&&this.applySelection(e,t),this.setState({mouseDown:!1})}},{key:"onMouseMove",value:function(e){if(0!==e.buttons){var t=this.mouseEventToLine(e);t&&this.applySelection(e,t)}else this.setState({mouseDown:!1})}},{key:"onKeyDown",value:function(e){if(!se()){var t=(e.ctrlKey?"c":"")+(e.metaKey?"m":"")+(e.altKey?"a":"")+(e.shiftKey?"s":"");if(["ArrowUp","ArrowDown","PageUp","PageDown"].includes(e.key)){var n=1;if("PageUp"!==e.key&&"PageDown"!==e.key||(n=this.props.visibleLines),"ArrowUp"!==e.key&&"PageUp"!==e.key||(n=-n),""===t||"s"===t){var s=this.findCursorLineIndex(),a=Math.min(this.props.lines.length-1,Math.max(0,s+n));s!==a&&(this.applySelection(e,this.props.lines[a]),e.preventDefault())}else e.ctrlKey&&(this.props.applyScroll(n),e.preventDefault())}"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||""!==t||(this.props.followBranch("ArrowRight"===e.key,this.findCursorLine()),e.preventDefault()),"Tab"===e.key&&""===t&&(this.props.updateDisplaySymbols(!this.props.displaySymbols),e.preventDefault()),"a"===e.key&&"c"===t&&(this.props.assembleInstruction(this.findCursorLine(),""),e.preventDefault())," "!==e.key&&"Spacebar"!==e.key||""!==t||(this.props.toggleBreakpoint(this.findCursorLine()),e.preventDefault()),"d"===e.key&&"c"===t&&(this.props.toggleBreakpoint(this.findCursorLine(),!0),e.preventDefault()),"s"!==e.key&&"f"!==e.key||"c"!==t||(this.props.searchPrompt(),e.preventDefault()),"F3"===e.key&&""===t&&(this.props.searchNext(),e.preventDefault()),"g"===e.key&&"c"===t&&(this.props.promptGoto(),e.preventDefault()),"e"===e.key&&"c"===t&&(this.props.editBreakpoint(this.findCursorLine()),e.preventDefault())}}},{key:"applySelection",value:function(e,t){var n=this.props,s=n.selectionTop,a=n.selectionBottom;e.shiftKey?(s=Math.min(s,t.address),a=Math.max(a,t.address)):(s=t.address,a=t.address),s===this.props.selectionTop&&a===this.props.selectionBottom||this.props.updateSelection({selectionTop:s,selectionBottom:a}),this.props.updateCursor(t.address)}},{key:"mouseEventToLine",value:function(e){var t=e.pageY-this.ref.current.getBoundingClientRect().top-window.pageYOffset,n=Math.floor(t/this.props.lineHeight);return this.props.lines[n]}},{key:"findCursorLineIndex",value:function(){for(var e=this.props,t=e.cursor,n=e.lines,s=e.selectionTop,a=t||s,r=0;r<n.length;++r)if(n[r].address===a)return r}},{key:"findCursorLine",value:function(){var e=this.findCursorLineIndex();return this.props.lines[e]}}],[{key:"isLineSelected",value:function(e,t){var n=e.selectionTop,s=e.selectionBottom;return t.address+t.addressSize>n&&t.address<=s}},{key:"calcOffsets",value:function(e,t){var n=0,s={};return e.forEach((function(e){s[e.address]=n,n+=t})),s}},{key:"getSelectedLineParams",value:function(e){var t,s=e.lines,a=e.selectionTop,r=e.selectionBottom,i=s.filter(n.isLineSelected.bind(null,{selectionTop:a,selectionBottom:r})),o={},c=Object(g.a)(i);try{for(c.s();!(t=c.n()).done;){var l,u=t.value,d=Object(g.a)(u.params.split(/[,()]/));try{for(d.s();!(l=d.n()).done;){var h=l.value;o[h]=h}}catch(p){d.e(p)}finally{d.f()}}}catch(p){c.e(p)}finally{c.f()}return delete o[""],Object.values(o)}},{key:"getDerivedStateFromProps",value:function(e,t){var s=e.lines!==t.prevLines,a=e.selectionTop!==t.prevSelectionTop||e.selectionBottom!==t.prevSelectionBottom,r=null;s&&(r={lineOffsets:n.calcOffsets(e.lines,e.lineHeight),prevLines:e.lines});var i=null;return(s||a)&&(i={pendingLineParams:n.getSelectedLineParams(e),prevSelectionTop:e.selectionTop,prevSelectionBottom:e.selectionBottom}),null!==r||null!==i?Object(l.a)(Object(l.a)({},r),i):null}}]),n}(s.PureComponent),oe=(n(430),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.props.updateSearchString(e.target.value)},a.handleNext=function(e){a.props.searchNext(),a.focus(),e.preventDefault()},a.handleCancel=function(e){a.props.updateSearchString(null)},a.handleKeyDown=function(e){"Escape"===e.key&&(a.handleCancel(),e.preventDefault())},a.ref=Object(s.createRef)(),a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.searchString||"",t=Object(M.a)("DisasmSearch__field",{"DisasmSearch__field--progress":this.props.inProgress});return Object(k.jsxs)("form",{action:"#",className:"DisasmSearch",hidden:null===this.props.searchString,onSubmit:this.handleNext,children:[Object(k.jsx)("div",{className:t,children:Object(k.jsx)("input",{type:"search",value:e,placeholder:"Find...",onChange:this.handleChange,onKeyDown:this.handleKeyDown,ref:this.ref})}),Object(k.jsx)("button",{type:"submit",children:Object(k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"15",height:"15",role:"img",children:[Object(k.jsx)("title",{children:"Search / Next"}),Object(k.jsx)("path",{d:"M10,50 l80,0 l-35,-40 m35,40 l-35,40"})]})}),Object(k.jsx)("button",{type:"button",onClick:this.handleCancel,children:Object(k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 180 180",width:"15",height:"15",role:"img",children:[Object(k.jsx)("title",{children:"Cancel"}),Object(k.jsx)("path",{d:"M30,30 l120,120 m-120,0 l120,-120"})]})})]})}},{key:"componentDidUpdate",value:function(e,t){null===e.searchString&&null!==this.props.searchString&&this.focus()}},{key:"focus",value:function(){this.ref.current.focus()}}]),n}(s.PureComponent)),ce=(n(431),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.line;return e?Object(k.jsxs)("div",{className:"StatusBar",children:[Object(k.jsx)("div",{className:"StatusBar__left",children:this.renderLeftStatus(e)}),Object(k.jsx)("div",{className:"StatusBar__right",children:e.function||e.symbol||""})]}):Object(k.jsx)("div",{className:"StatusBar"})}},{key:"renderLeftStatus",value:function(e){if("opcode"===e.type||"macro"===e.type){if(e.dataAccess)return this.renderDataAccess(e.dataAccess);if(e.branch)return this.renderBranch(e.branch);if(e.relevantData&&"string"===typeof e.relevantData.stringValue)return this.renderString(e.relevantData)}else if("data"===e.type)return this.renderDataSymbol(e.dataSymbol,e.address);return""}},{key:"renderDataAccess",value:function(e){if(null===e.uintValue)return"Invalid address "+E(e.address);var t="["+E(e.address)+"] = ";return e.valueSymbol&&(t+=e.valueSymbol+" ("),1===e.size?t+=("00"+e.uintValue.toString(16).toUpperCase()).substr(-2):2===e.size?t+=function(e){return("0000"+e.toString(16).toUpperCase()).substr(-4)}(e.uintValue):e.size>=4&&(t+=E(e.uintValue)),e.valueSymbol&&(t+=")"),t}},{key:"renderBranch",value:function(e){var t=e.targetAddress?E(e.targetAddress):"";return e.symbol&&(t+=" = "+e.symbol),t}},{key:"renderString",value:function(e){return"["+E(e.address)+"] = "+JSON.stringify(e.stringValue)}},{key:"renderDataSymbol",value:function(e,t){var n=E(e.start);return e.label&&(n+=" ("+e.label+")"),t!==e.start&&(n+=" + "+E(e.start-t)),n}}]),n}(s.PureComponent)),le=(n(432),100),ue=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={lines:[],branchGuides:[],range:{start:0,end:0},lineHeight:0,visibleLines:0,displaySymbols:!0,wantDisplaySymbols:!0,cursor:null,searchString:null,searchInProgress:!1,highlightText:null,editingBreakpoint:null,creatingBreakpoint:null},a.jumpStack=[],a.needsScroll=!1,a.needsOffsetFix=!1,a.updatesCancel=!1,a.updatesSequence=Promise.resolve(null),a.lastSearch=null,a.updateCursor=function(e){a.state.cursor!==e&&(a.needsScroll="nearest",a.setState({cursor:e}),a.updatesSequence=a.updatesSequence.then((function(){if(a.updatesCancel)return null;var t=a.state.range,n=t.start,s=t.end,r=Math.max(le,a.state.visibleLines),i=Math.max(500,5*a.state.visibleLines);return e-4*r<n?n=e-2*r*4:e-4*i>n&&(n=e-4*(i-r)),e+4*r>s?s=e+2*r*4:e+4*i<s&&(s=e+4*(i-r)),n!==a.state.range.start||s!==a.state.range.end?a.updateDisasmNow("nearest",{address:n,end:s}):null})))},a.getSelectedLines=function(){var e=a.props,t=e.selectionTop,n=e.selectionBottom;return a.state.lines.filter((function(e){return e.address+e.addressSize>t&&e.address<=n}))},a.getSelectedDisasm=function(){var e,t=a.getSelectedLines(),n={},s=t.map((function(e){return e.branch})).filter((function(e){return e&&!e.symbol&&e.targetAddress})),r=Object(g.a)(s);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.targetAddress]="pos_"+E(i.targetAddress)}}catch(p){r.e(p)}finally{r.f()}var o,c="",l=!0,u=Object(g.a)(t);try{for(u.s();!(o=u.n()).done;){var d=o.value,h=d.symbol||n[d.address];h&&(l||(c+="\n"),c+=h+":\n\n"),c+="\t"+d.name+" ",d.branch&&d.branch.targetAddress&&!d.branch.symbol?c+=d.params.replace(/0x[0-9A-f]+/,n[d.branch.targetAddress]):c+=d.params,c+="\n",l=!1}}catch(p){u.e(p)}finally{u.f()}return c},a.updateDisplaySymbols=function(e){a.setState({wantDisplaySymbols:e})},a.followBranch=function(e,t){if(e){var n=t.branch&&t.branch.targetAddress;null===n&&(n=t.relevantData&&t.relevantData.address),null!==n&&(a.jumpStack.push(a.state.cursor),a.gotoAddress(n))}else 0!==a.jumpStack.length?a.gotoAddress(a.jumpStack.pop()):a.gotoAddress(a.props.pc)},a.assembleInstruction=function(e,t){var n=e.address,s=prompt("Assemble instruction",t);if(!s)return Promise.resolve(null);var r=function(){return a.context.ppsspp.send({event:"memory.assemble",address:n,code:s}).then((function(){if(n===a.state.cursor){var t=a.state.lines.indexOf(e);if(t<a.state.lines.length-1){var s=a.state.lines[t+1].address;a.gotoAddress(s,"nearest")}}a.updateDisasm()}))},i=s.split(/\s*=\s*(.+)$/,2);return i.length>=2?a.context.ppsspp.send({event:"cpu.evaluate",thread:a.context.gameStatus.currentThread,expression:i[1]}).then((function(e){return a.context.ppsspp.send({event:"cpu.setReg",thread:a.context.gameStatus.currentThread,name:i[0],value:e.uintValue})})).then((function(e){var t=e.uintValue;a.context.log("Updated "+i[0]+" to "+E(t))}),r):r()},a.toggleBreakpoint=function(e,t){if(null===e.breakpoint)a.context.ppsspp.send({event:"cpu.breakpoint.add",address:e.address,enabled:!0});else if(e.breakpoint.enabled)if(t)a.context.ppsspp.send({event:"cpu.breakpoint.update",address:e.breakpoint.address||e.address,enabled:!1});else{if(null!==e.breakpoint.condition&&!window.confirm("This breakpoint has has a condition.\n\nAre you sure you want to remove it?"))return;a.context.ppsspp.send({event:"cpu.breakpoint.remove",address:e.breakpoint.address||e.address})}else a.context.ppsspp.send({event:"cpu.breakpoint.update",address:e.breakpoint.address||e.address,enabled:!0})},a.editBreakpoint=function(e){var t,n=(null===(t=e.breakpoint)||void 0===t?void 0:t.address)||e.address;a.context.ppsspp.send({event:"cpu.breakpoint.list",address:n,enabled:!0}).then((function(e){var t=e.breakpoints.find((function(e){return e.address===n}));if(t){var s=Object(l.a)(Object(l.a)({},t),{},{type:"execute"});a.setState({editingBreakpoint:s})}else{var r={address:n,type:"execute"};a.setState({creatingBreakpoint:r})}}))},a.closeEditBreakpoint=function(){a.setState({editingBreakpoint:null,creatingBreakpoint:null})},a.gotoAddress=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";a.needsScroll=t,a.props.updateSelection({selectionTop:e,selectionBottom:e})},a.searchDisasm=function(e){var t=e&&null!==a.lastSearch,n=a.state,s=n.cursor,r=n.searchString;if(t||r){if(a.state.searchInProgress){if(t)return;a.searchCancel()}t||(a.lastSearch={match:r,end:s,last:null});var i={cancel:!1};a.lastSearch.cancelState=i,a.setState({searchInProgress:!0});var o=a.lastSearch,c=o.match,l=o.end,u=o.last;a.context.ppsspp.send({event:"memory.searchDisasm",address:s===u?s+4:s,end:l,match:c}).then((function(e){var t=e.address;i.cancel||(a.lastSearch&&(a.lastSearch.last=t),null!==t?a.gotoAddress(t):s!==l?(window.alert("Reached the starting point of the search"),a.gotoAddress(l)):window.alert("The specified text was not found:\n\n"+c))})).finally((function(){i.cancel||(a.setState({searchInProgress:!1}),a.lastSearch&&(a.lastSearch.cancelState=null))}))}else a.searchPrompt()},a.updateSearchString=function(e){var t=e?e.toLowerCase():null;a.setState({highlightText:t,searchString:e}),a.lastSearch&&a.lastSearch.match!==e&&(a.searchCancel(),a.lastSearch=null),null===e&&a.listRef.current&&a.listRef.current.ensureCursorInView(!1)},a.searchPrompt=function(){a.updateSearchString(a.state.searchString||(a.lastSearch?a.lastSearch.match:"")),a.searchRef.current.focus()},a.searchNext=function(){a.searchDisasm(!0)},a.searchCancel=function(){a.lastSearch&&a.lastSearch.cancelState&&(a.lastSearch.cancelState.cancel=!0,a.setState({searchInProgress:!1}),a.lastSearch.cancelState=null)},a.onDoubleClick=function(e,t){a.toggleBreakpoint(t.line)},a.applyScroll=function(e){a.ref.current.scrollTop+=e*a.state.lineHeight},a.ref=Object(s.createRef)(),a.listRef=Object(s.createRef)(),a.searchRef=Object(s.createRef)(),a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t={onScroll:function(t){return e.onScroll(t)},onDragStart:function(e){return e.preventDefault()}};return this.context.gameStatus.started?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",Object(l.a)(Object(l.a)({ref:this.ref,className:"Disasm"},t),{},{children:Object(k.jsx)(ie,Object(l.a)(Object(l.a)({ref:this.listRef},this.state),{},{onDoubleClick:this.onDoubleClick,updateSelection:this.props.updateSelection,promptGoto:this.props.promptGoto,updateCursor:this.updateCursor,updateDisplaySymbols:this.updateDisplaySymbols,selectionTop:this.props.selectionTop,selectionBottom:this.props.selectionBottom,getSelectedDisasm:this.getSelectedDisasm,followBranch:this.followBranch,assembleInstruction:this.assembleInstruction,toggleBreakpoint:this.toggleBreakpoint,editBreakpoint:this.editBreakpoint,applyScroll:this.applyScroll,searchPrompt:this.searchPrompt,searchNext:this.searchNext}))})),Object(k.jsx)(ce,{line:this.state.lines.find((function(t){return t.address===e.state.cursor}))}),this.renderContextMenu(),Object(k.jsx)(oe,{ref:this.searchRef,searchString:this.state.searchString,searchNext:this.searchNext,updateSearchString:this.updateSearchString,inProgress:this.state.searchInProgress}),Object(k.jsx)(q,{isOpen:null!==this.state.editingBreakpoint||null!==this.state.creatingBreakpoint,onClose:this.closeEditBreakpoint,breakpoint:this.state.editingBreakpoint,initialOverrides:this.state.creatingBreakpoint})]}):this.renderNotStarted()}},{key:"renderNotStarted",value:function(){return Object(k.jsx)("div",{className:"Disasm--not-started",children:"Waiting for a game to start..."})}},{key:"renderContextMenu",value:function(){return Object(k.jsx)(Q,{getSelectedLines:this.getSelectedLines,getSelectedDisasm:this.getSelectedDisasm,followBranch:this.followBranch,assembleInstruction:this.assembleInstruction,toggleBreakpoint:this.toggleBreakpoint})}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(this.needsOffsetFix&&this.listRef.current&&0!==this.state.lines.length){var n=this.state.lines,s=n[Math.floor(n.length/2)].address,a=this.listRef.current.addressBoundingTop(s);if(a)return{top:a,centerAddress:s}}return null}},{key:"componentDidMount",value:function(){var e=this;this.listeners_=y.listen({connection:function(){e.context.gameStatus.started&&e.updateDisasm("center")},"cpu.stepping":function(){var t=0!==e.state.range.start||0!==e.state.range.end;e.updateDisasm(t?"nearest":"center")},"cpu.setReg":function(t){0===t.category&&32===t.register&&e.updateDisasm("center")},"cpu.breakpoint.add":function(){e.updateDisasm()},"cpu.breakpoint.update":function(){e.updateDisasm()},"cpu.breakpoint.remove":function(){e.updateDisasm()}}),this.updatesCancel=!1}},{key:"componentWillUnmount",value:function(){this.searchCancel(),this.updatesCancel=!0,y.forget(this.listeners_)}},{key:"componentDidUpdate",value:function(e,t,n){var s=this,a=this.props,r=a.selectionTop,i=a.selectionBottom,o=this.state,c=o.range,l=o.lineHeight,u=null,d=null;if(this.state.wantDisplaySymbols!==t.wantDisplaySymbols&&(u=!1),this.props.currentThread!==e.currentThread&&(u=!1),r===e.selectionTop&&i===e.selectionBottom||(r<c.start||i>=c.end)&&(u="center",d=!0),u||e.setInitialPC||!this.props.setInitialPC||(u="center",d=!0),null!==u&&this.props.setInitialPC&&this.updateDisasm(u,d),0===l){var h=document.querySelector(".DisasmLine");h&&setTimeout((function(){return s.setState({lineHeight:h.getBoundingClientRect().height})}),0)}else if(this.ref.current){var p=Math.floor(this.ref.current.clientHeight/l);p!==this.state.visibleLines&&this.setState({visibleLines:p})}if(this.props.jumpMarker!==e.jumpMarker&&(this.needsScroll="center"),this.needsScroll&&this.listRef.current){var f=this.listRef.current;setTimeout((function(){f.ensureCursorInView(s.needsScroll),s.needsScroll=!1}),0)}if(n&&this.listRef.current){var v=this.listRef.current.addressBoundingTop(n.centerAddress);this.ref.current.scrollTop-=n.top-v,this.needsOffsetFix=!1}}},{key:"updateDisasm",value:function(e,t){var n=this;this.updatesSequence=this.updatesSequence.then((function(){return n.updatesCancel?null:n.updateDisasmNow(e,t)}))}},{key:"updateDisasmNow",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.props.setInitialPC)return Promise.resolve(null);var s=this.state,a=s.range,r=s.visibleLines,i=s.wantDisplaySymbols,o=n;if(!0===n||null===n&&0===a.start&&0===a.end){var c=Math.max(le,r),u=Math.floor(1.5*c);o={address:this.props.selectionTop-4*u,count:2*u}}else null===n&&(o={address:a.start,end:a.end});return Promise.resolve(null).then((function(){return t.context.ppsspp.send(Object(l.a)(Object(l.a)({event:"memory.disasm",thread:t.context.gameStatus.currentThread},o),{},{displaySymbols:i})).then((function(n){if(!t.updatesCancel){var s=n.range,a=n.branchGuides,r=n.lines;e?t.needsScroll=e:t.needsOffsetFix=!0,t.setState({range:s,branchGuides:t.cleanupBranchGuides(a),lines:r,displaySymbols:i})}}),(function(e){t.updatesCancel||t.setState({range:{start:0,end:0},branchGuides:[],lines:[]})}))}))}},{key:"cleanupBranchGuides",value:function(e){var t=new Map;return e.forEach((function(e){var n=String(e.top)+String(e.bottom)+e.direction;t.set(n,e)})),Object(w.a)(t.values())}},{key:"onScroll",value:function(e){var t=this;this.updatesSequence=this.updatesSequence.then((function(){if(t.updatesCancel)return null;var e=t.bufferRange(),n=e.bufferTop,s=e.bufferBottom,a=Math.max(le,t.state.visibleLines),r=Math.max(500,5*t.state.visibleLines),i=t.state.range,o=i.start,c=i.end;return n<a?o-=4*a:n>r&&(o+=4*Math.max(a,n-r)),s<a?c+=4*a:s>r&&(c-=4*Math.max(a,s-r)),o!==t.state.range.start||c!==t.state.range.end?t.updateDisasmNow(!1,{address:o,end:c}):null}))}},{key:"bufferRange",value:function(){var e=this.ref.current,t=e.scrollHeight,n=e.scrollTop,s=e.clientHeight,a=n/this.state.lineHeight,r=(t-n-s)/this.state.lineHeight,i=Math.floor((this.state.visibleLines-1)/2);return{bufferTop:a+i,bufferBottom:r+i}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.selectionTop,s=e.selectionBottom;if(t.cursor<n||t.cursor>s){var a=n;if(t.lines.length){var r=t.lines.find((function(e){return e.address<=n&&e.address+e.addressSize>n}));a=r?r.address:a}return{cursor:a}}return null}}]),n}(s.PureComponent);ue.contextType=C;var de=ue,he=(n(433),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={breakpointModalOpen:!1,connected:!1,lastThread:"",threads:[]},e.handleGoBreak=function(){e.context.gameStatus.stepping&&e.props.updateCurrentThread(void 0),e.context.ppsspp.send({event:e.context.gameStatus.stepping?"cpu.resume":"cpu.stepping"}).catch((function(){}))},e.handleStepInto=function(){e.props.updateCurrentThread(void 0),e.context.ppsspp.send({event:"cpu.stepInto",thread:e.context.gameStatus.currentThread}).catch((function(){}))},e.handleStepOver=function(){e.props.updateCurrentThread(void 0),e.context.ppsspp.send({event:"cpu.stepOver",thread:e.context.gameStatus.currentThread}).catch((function(){}))},e.handleStepOut=function(){var t=e.context.gameStatus.currentThread;e.props.updateCurrentThread(void 0),e.context.ppsspp.send({event:"cpu.stepOut",thread:e.context.gameStatus.currentThread}).catch((function(){e.props.updateCurrentThread(t)}))},e.handleNextHLE=function(){e.props.updateCurrentThread(void 0),e.context.ppsspp.send({event:"cpu.nextHLE"}).catch((function(){}))},e.handleThreadSelect=function(t){var n=e.state.threads.find((function(e){return e.id===Number(t.target.value)}));n&&e.props.updateCurrentThread(n.id,n.pc)},e.handleBreakpointOpen=function(){e.setState({breakpointModalOpen:!0})},e.handleBreakpointClose=function(){e.setState({breakpointModalOpen:!1})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.context.gameStatus,t=e.started,n=e.paused,s=e.stepping,a=!t||!s||n;return Object(k.jsxs)("div",{className:"DisasmButtons",children:[Object(k.jsxs)("div",{className:"DisasmButtons__group DisasmButtons__nav",children:[Object(k.jsx)("button",{type:"button",onClick:this.props.showNavTray,children:"Nav"}),Object(k.jsx)("span",{className:"DisasmButtons__spacer"})]}),Object(k.jsxs)("div",{className:"DisasmButtons__group",children:[Object(k.jsx)("button",{type:"button",disabled:!t||n,onClick:this.handleGoBreak,children:s||!t?"Go":"Break"}),Object(k.jsx)("span",{className:"DisasmButtons__spacer"})]}),Object(k.jsxs)("div",{className:"DisasmButtons__group",children:[Object(k.jsx)("button",{type:"button",disabled:a,onClick:this.handleStepInto,children:"Step Into"}),Object(k.jsx)("button",{type:"button",disabled:a,onClick:this.handleStepOver,children:"Step Over"}),Object(k.jsx)("button",{type:"button",disabled:a,onClick:this.handleStepOut,children:"Step Out"}),Object(k.jsx)("span",{className:"DisasmButtons__spacer"})]}),Object(k.jsxs)("div",{className:"DisasmButtons__group",children:[Object(k.jsx)("button",{type:"button",disabled:a,onClick:this.handleNextHLE,children:"Next HLE"}),Object(k.jsx)("span",{className:"DisasmButtons__spacer"})]}),Object(k.jsxs)("div",{className:"DisasmButtons__group",children:[Object(k.jsx)("button",{type:"button",onClick:this.handleBreakpointOpen,disabled:!t,children:"Breakpoint"}),Object(k.jsx)("span",{className:"DisasmButtons__spacer"})]}),Object(k.jsx)("div",{className:"DisasmButtons__group",children:Object(k.jsxs)("span",{className:"DisasmButtons__thread-list",children:["Thread: ",this.renderThreadList()]})}),Object(k.jsx)(q,{isOpen:this.state.breakpointModalOpen,onClose:this.handleBreakpointClose})]})}},{key:"renderThreadList",value:function(){var e=this;return 0===this.state.threads.length?"(none)":Object(k.jsx)("select",{onChange:this.handleThreadSelect,value:this.context.gameStatus.currentThread||this.state.lastThread,children:this.state.threads.map((function(t){return e.renderThread(t)}))})}},{key:"renderThread",value:function(e){var t="DisasmButtons__thread"+(e.isCurrent?" DisasmButtons__thread--current":"");return Object(k.jsxs)("option",{value:e.id,className:t,children:[e.name,e.isCurrent?" (current)":""]},e.id)}},{key:"componentDidMount",value:function(){var e=this;this.listeners_=y.listen({"connection.change":function(t){return e.setState({connected:t})},"cpu.stepping":function(){return e.updateThreadList(!0)}})}},{key:"componentWillUnmount",value:function(){y.forget(this.listeners_)}},{key:"componentDidUpdate",value:function(e,t){!t.connected&&this.state.connected&&this.updateThreadList(void 0===this.context.gameStatus.currentThread)}},{key:"updateThreadList",value:function(e){var t=this;this.state.connected&&this.context.ppsspp.send({event:"hle.thread.list"}).then((function(n){var s=n.threads;if(t.setState({threads:s}),e){var a=s.find((function(e){return e.isCurrent}));a&&a.id!==t.context.gameStatus.currentThread&&t.props.updateCurrentThread(a.id)}}),(function(){t.setState({threads:[]})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=null;return e.currentThread&&e.currentThread!==t.lastThread&&(n=Object(l.a)(Object(l.a)({},n),{},{lastThread:e.currentThread||""})),(e.stepping||e.started)&&(n=Object(l.a)(Object(l.a)({},n),{},{connected:!0})),!e.started&&t.threads.length&&(n=Object(l.a)(Object(l.a)({},n),{},{threads:[]})),n}}]),n}(s.PureComponent));he.contextType=C;var pe=he,fe=(n(434),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={address:""},a.handleChange=function(e){a.setState({address:e.target.value})},a.handleSubmit=function(e){a.context.gameStatus.started&&a.context.ppsspp.send({event:"cpu.evaluate",thread:a.context.gameStatus.currentThread,expression:a.state.address}).then((function(e){var t=e.uintValue;a.context.gameStatus.started&&a.props.gotoAddress(t)}),(function(e){a.ref.current.focus(),a.ref.current.select()})),e.preventDefault()},a.handlePC=function(e){a.jumpToReg("pc")},a.handleRA=function(e){a.jumpToReg("ra")},a.ref=Object(s.createRef)(),a.id="GotoBox__address--"+Math.random().toString(36).substr(2,9),a}return Object(d.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("form",{action:"#",className:"GotoBox",onSubmit:this.handleSubmit,children:[Object(k.jsx)("label",{className:"GotoBox__label",htmlFor:this.id,children:"Go to:"}),Object(k.jsx)("input",{ref:this.ref,type:"text",id:this.id,className:"GotoBox__address",value:this.state.address,onChange:this.handleChange,title:"Hexadecimal address or expression, enter to submit",autoComplete:"off"}),this.renderPCButtons()]})}},{key:"renderPCButtons",value:function(){if(!this.includePC)return null;var e=!this.context.gameStatus.started;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{type:"button",className:"GotoBox__button",onClick:this.handlePC,disabled:e,children:"PC"}),Object(k.jsx)("button",{type:"button",className:"GotoBox__button",onClick:this.handleRA,disabled:e,children:"RA"})]})}},{key:"componentDidUpdate",value:function(e,t){this.props.promptGotoMarker!==e.promptGotoMarker&&(this.ref.current.focus(),this.ref.current.select())}},{key:"jumpToReg",value:function(e){var t=this;this.context.ppsspp.send({event:"cpu.getReg",name:e}).then((function(e){t.context.gameStatus.started&&t.props.gotoAddress(e.uintValue)}))}}]),n}(s.PureComponent));fe.contextType=C;var ve=fe,ge=n(41),me=n(169),be=(n(444),n(445),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={connected:!1,loading:!0,rowHeight:null,functions:[],filter:"",filteredFunctions:[]},e.renderSizedList=function(t){var n=t.height,s=t.width,a=e.state,r=a.filter,i=a.filteredFunctions,o=a.rowHeight;return Object(k.jsx)(me.b,{height:n,rowHeight:o,rowRenderer:e.renderFunc,width:s,rowCount:i.length,filter:r})},e.renderFunc=function(t){var n=t.index,s=t.key,a=t.style,r=e.state.filteredFunctions[n];return Object(k.jsx)("div",{style:a,children:Object(k.jsx)("button",{type:"button","data-address":r.address,children:r.name})},s+"-"+r.address)},e.handleFilter=function(t){var n=t.target.value,s=e.applyFilter(e.state.functions,n);e.setState({filter:n,filteredFunctions:s})},e.handleClick=function(t){var n=t.target.dataset.address;e.props.gotoDisasm(Number(n)),t.preventDefault()},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state.filter;return Object(k.jsxs)("div",{className:"FuncList",children:[Object(k.jsx)("input",{type:"search",className:"FuncList__search",value:e,onChange:this.handleFilter}),this.renderList()]})}},{key:"renderList",value:function(){var e=this.state,t=e.filter,n=e.loading,s=e.rowHeight;return n||!s?Object(k.jsx)("div",{className:"FuncList__loading",children:"Loading..."}):Object(k.jsx)("div",{className:"FuncList__listing",onClick:this.handleClick,children:Object(k.jsx)(me.a,{filter:t,children:this.renderSizedList})})}},{key:"componentDidMount",value:function(){var e=this;this.listeners_=y.listen({"connection.change":function(t){return e.setState({connected:t})},"game.start":function(){return e.updateList()}}),this.state.connected&&this.updateList(),this.state.rowHeight||setTimeout((function(){return e.measureHeight()}),0)}},{key:"componentWillUnmount",value:function(){y.forget(this.listeners_)}},{key:"componentDidUpdate",value:function(e,t){var n=this;!t.connected&&this.state.connected&&this.updateList(),this.state.rowHeight||setTimeout((function(){return n.measureHeight()}),0)}},{key:"measureHeight",value:function(){var e=document.querySelector(".FuncList__loading");if(e){var t=e.getBoundingClientRect().height;this.setState({rowHeight:t})}}},{key:"updateList",value:function(){var e=this;this.state.connected&&(this.state.loading||0!==this.state.functions.length||this.setState({loading:!0}),this.context.ppsspp.send({event:"hle.func.list"}).then((function(t){var n=t.functions;n.sort((function(e,t){return e.name.localeCompare(t.name)}));var s=e.applyFilter(n,e.state.filter);e.setState({functions:n,filteredFunctions:s,loading:!1})}),(function(){e.setState({functions:[],filteredFunctions:[],loading:!1})})))}},{key:"applyFilter",value:function(e,t){if(""===t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(n)}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=null;return e.started&&(n=Object(l.a)(Object(l.a)({},n),{},{connected:!0})),!e.started&&t.functions.length&&(n=Object(l.a)(Object(l.a)({},n),{},{functions:[],filteredFunctions:[]})),n}}]),n}(s.PureComponent));be.contextType=C;var je=be,ye=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={cursor:0},a.needsScroll=!1,a.onDoubleClick=function(e,t){0===e.button&&a.props.onDoubleClick(e,t)},a.cursorRef=Object(s.createRef)(),a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(k.jsx)("dl",{children:this.props.registerNames.map((function(t,n){return e.renderReg(t,n)}))})}},{key:"renderReg",value:function(e,t){var n=this,s=function(e){return{cat:n.props.id,reg:t,value:n.format(t)}},a={onDoubleClick:function(e){return n.onDoubleClick(e,s())},onMouseDown:function(e){return n.setState({cursor:t})},onKeyDown:function(e){return n.onKeyDown(e)},tabIndex:0},r={"RegPanel__item--changed":this.changed(t),"RegPanel__item--selected":this.state.cursor===t},i=this.state.cursor===t?this.cursorRef:void 0;return Object(k.jsxs)(z.b,{id:this.props.contextmenu,renderTag:"a",attributes:a,collect:s,holdToDisplay:-1,children:[Object(k.jsx)("dt",{children:e}),Object(k.jsx)("dd",{className:Object(M.a)(r),ref:i,children:this.format(t)})]},t)}},{key:"format",value:function(e){return 0===this.props.id?E(this.props.uintValues[e]):this.props.floatValues[e]}},{key:"changed",value:function(e){return this.props.uintValues[e]!==this.props.uintValuesLast[e]}},{key:"componentDidUpdate",value:function(e,t){if(this.needsScroll&&this.cursorRef.current){var n=this.cursorRef.current.parentNode;te(n,{block:"nearest"}),n.focus(),this.needsScroll=!1}}},{key:"onKeyDown",value:function(e){se()||("ArrowUp"===e.key&&this.state.cursor>0&&(this.needsScroll=!0,this.setState({cursor:this.state.cursor-1}),e.preventDefault()),"ArrowDown"===e.key&&this.state.cursor<this.props.registerNames.length-1&&(this.needsScroll=!0,this.setState({cursor:this.state.cursor+1}),e.preventDefault()))}}]),n}(s.PureComponent),Oe=(n(446),n(447),n(385),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={categories:[]},e.handleViewMemory=function(e,t){console.log(t)},e.handleViewDisassembly=function(t,n){var s=e.state.categories[n.cat].uintValues[n.reg];e.props.gotoDisasm(s)},e.handleCopyReg=function(e,t,n){X(t.value)},e.handleChangeReg=function(t,n,s){var a=(0===n.cat?"0x":"")+n.value,r=e.state.categories[n.cat].registerNames[n.reg],i=window.prompt("New value for "+r,a);if(null!==i){var o={event:"cpu.setReg",thread:e.context.gameStatus.currentThread,category:n.cat,register:n.reg,value:i};e.context.ppsspp.send(o).catch((function(e){window.alert(e)}))}},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{id:"RegPanel",children:[this.renderTabs(),this.renderContextMenu()]})}},{key:"renderTabs",value:function(){var e=this,t=this.state.categories;return 0===t.length?"":Object(k.jsxs)(ge.d,{children:[Object(k.jsx)(ge.b,{children:t.map((function(e){return Object(k.jsx)(ge.a,{children:e.name},e.id)}))}),t.map((function(t){return Object(k.jsx)(ge.c,{children:Object(k.jsx)(ye,Object(l.a)({contextmenu:"reglist",onDoubleClick:e.handleChangeReg},t))},t.id)}))]})}},{key:"renderContextMenu",value:function(){var e=!this.context.gameStatus.stepping;return Object(k.jsxs)(z.a,{id:"reglist",children:[Object(k.jsx)(z.c,{onClick:this.handleViewMemory,children:"Go to in Memory View"}),Object(k.jsx)(z.c,{onClick:this.handleViewDisassembly,children:"Go to in Disassembly"}),Object(k.jsx)(z.c,{divider:!0}),Object(k.jsx)(z.c,{onClick:this.handleCopyReg,children:"Copy Value"}),Object(k.jsx)(z.c,{disabled:e,onClick:this.handleChangeReg,children:"Change..."})]})}},{key:"componentDidMount",value:function(){var e=this;this.listeners_=y.listen({connection:function(){return e.updateRegs(!1)},"cpu.stepping":function(){return e.updateRegs(!1)},"cpu.setReg":function(t){return e.updateReg(t)}})}},{key:"componentWillUnmount",value:function(){y.forget(this.listeners_)}},{key:"componentDidUpdate",value:function(e,t){this.props.currentThread&&this.props.currentThread!==e.currentThread&&this.updateRegs(!0)}},{key:"updateRegs",value:function(e){var t=this;this.context.ppsspp.send({event:"cpu.getAllRegs",thread:this.context.gameStatus.currentThread}).then((function(n){var s,a=n.categories,r=0!==t.state.categories.length,i=Object(g.a)(a);try{for(i.s();!(s=i.n()).done;){var o=s.value,c=r?t.state.categories[o.id]:null;o.uintValuesLast=r?e?c.uintValuesLast:c.uintValues:o.uintValues,o.floatValuesLast=r?e?c.floatValuesLast:c.floatValues:o.floatValues}}catch(l){i.e(l)}finally{i.f()}t.setState({categories:a})}),(function(e){console.error(e)}))}},{key:"updateReg",value:function(e){var t=function(e,t,n){return e.slice(0,t).concat([n]).concat(e.slice(t+1))},n=this.state.categories.map((function(n){return n.id===e.category?Object(l.a)(Object(l.a)({},n),{},{uintValuesLast:n.uintValuesLast,floatValuesLast:n.floatValuesLast,uintValues:t(n.uintValues,e.register,e.uintValue),floatValues:t(n.floatValues,e.register,e.floatValue)}):n}));this.setState({categories:n})}}]),n}(s.PureComponent));Oe.contextType=C;var ke=Oe,xe=(n(448),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={categories:[],format:"float"},e.handleFormat=function(t){var n=t.target.value;e.setState({format:n})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.categories,n=e.format;if(t.length<3)return null;for(var s=[],a=0;a<t[2].uintValues.length/16;++a)s.push(this.renderMatrix(a));return Object(k.jsxs)(D,{contentLabel:"VFPU",isOpen:this.props.isOpen,onClose:this.props.onClose,children:[Object(k.jsx)("h2",{children:"VFPU Registers"}),Object(k.jsx)("div",{className:"VisualizeVFPU__list",children:s}),Object(k.jsxs)("div",{className:"VisualizeVFPU__format",children:["Display as:",Object(k.jsxs)("label",{children:[Object(k.jsx)("input",{type:"radio",checked:"float"===n,value:"float",onChange:this.handleFormat})," Float"]}),Object(k.jsxs)("label",{children:[Object(k.jsx)("input",{type:"radio",checked:"uint"===n,value:"uint",onChange:this.handleFormat})," Hex"]})]})]})}},{key:"renderMatrix",value:function(e){return Object(k.jsxs)("table",{className:"VisualizeVFPU__matrix",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsxs)("th",{className:"VisualizeVFPU__name",children:["M",e,"00"]}),Object(k.jsxs)("th",{className:"VisualizeVFPU__row-header",children:["R",e,"00"]}),Object(k.jsxs)("th",{className:"VisualizeVFPU__row-header",children:["R",e,"01"]}),Object(k.jsxs)("th",{className:"VisualizeVFPU__row-header",children:["R",e,"02"]}),Object(k.jsxs)("th",{className:"VisualizeVFPU__row-header",children:["R",e,"03"]})]})}),Object(k.jsxs)("tbody",{children:[this.renderColumn(e,0),this.renderColumn(e,1),this.renderColumn(e,2),this.renderColumn(e,3)]})]},e)}},{key:"renderColumn",value:function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsxs)("th",{className:"VisualizeVFPU__col-header",children:["C",e,t,"0"]}),Object(k.jsx)("td",{children:this.renderValue(e,t,0)}),Object(k.jsx)("td",{children:this.renderValue(e,t,1)}),Object(k.jsx)("td",{children:this.renderValue(e,t,2)}),Object(k.jsx)("td",{children:this.renderValue(e,t,3)})]},t)}},{key:"renderValue",value:function(e,t,n){var s=4*e+32*t+n,a=this.state.categories[2];return"uint"===this.state.format?E(a.uintValues[s]):a.floatValues[s]}},{key:"componentDidMount",value:function(){var e=this;this.listeners_=y.listen({"cpu.getAllRegs":function(t){var n=t.categories;return e.setState({categories:n})}})}},{key:"componentWillUnmount",value:function(){y.forget(this.listeners_)}}]),n}(s.PureComponent)),Se=(n(449),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={vfpuModalOpen:!1,everShownFuncs:!1},e.handleSelect=function(t){1!==t||e.state.everShownFuncs||e.setState({everShownFuncs:!0})},e.handleVFPUOpen=function(){e.setState({vfpuModalOpen:!0})},e.handleVFPUClose=function(){e.setState({vfpuModalOpen:!1})},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{className:"LeftPanel",children:[Object(k.jsxs)(ge.d,{onSelect:this.handleSelect,children:[Object(k.jsxs)(ge.b,{children:[Object(k.jsx)(ge.a,{children:"Regs"}),Object(k.jsx)(ge.a,{children:"Funcs"}),Object(k.jsx)(ge.a,{children:"Tools"})]}),Object(k.jsx)(ge.c,{forceRender:!0,children:Object(k.jsx)(ke,{gotoDisasm:this.props.gotoDisasm,currentThread:this.context.gameStatus.currentThread})}),Object(k.jsx)(ge.c,{forceRender:this.state.everShownFuncs,children:Object(k.jsx)(je,{gotoDisasm:this.props.gotoDisasm,started:this.context.gameStatus.started})}),Object(k.jsx)(ge.c,{className:"react-tabs__tab-panel LeftPanel__tools",children:Object(k.jsx)("button",{type:"button",onClick:this.handleVFPUOpen,children:"Visualize VFPU"})})]}),Object(k.jsx)(xe,{isOpen:this.state.vfpuModalOpen,onClose:this.handleVFPUClose})]})}}]),n}(s.PureComponent));Se.contextType=C;var Ce=Se,_e=(n(450),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={setInitialPC:!1,selectionTop:null,selectionBottom:null,jumpMarker:null,promptGotoMarker:null,lastTicks:0,ticks:0,navTray:!1},e.updateSelection=function(t){e.setState(t)},e.gotoDisasm=function(t){e.setState({selectionTop:t,selectionBottom:t,jumpMarker:{}})},e.promptGoto=function(){e.setState({promptGotoMarker:{}})},e.updateCurrentThread=function(t,n){e.setState({setInitialPC:0!==n&&void 0!==n}),e.context.gameStatus.setState({currentThread:t}),0!==n&&void 0!==n&&(e.context.gameStatus.setState({pc:n}),e.gotoDisasm(n))},e.showNavTray=function(){e.setState({navTray:!0})},e.hideNavTray=function(){e.setState({navTray:!1})},e.updateInitialPC=function(){e.context.ppsspp.send({event:"cpu.getReg",name:"pc"}).then((function(t){var n=t.uintValue;e.state.setInitialPC||e.gotoDisasm(n),e.setState({setInitialPC:0!==n}),e.context.gameStatus.setState({pc:n})}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.context.gameStatus,t=e.stepping,n=e.paused,s=e.started,a=e.pc,r=e.currentThread,i=this.state,o=i.selectionTop,c=i.selectionBottom,u=i.jumpMarker,d=i.setInitialPC,h=i.navTray,p={currentThread:r,selectionTop:o,selectionBottom:c,jumpMarker:u,pc:a,setInitialPC:d};return Object(k.jsxs)("div",{id:"CPU",children:[Object(k.jsxs)("div",{className:h?"CPU__pane CPU__pane--open":"CPU__pane",children:[Object(k.jsx)("button",{type:"button",onClick:this.hideNavTray,className:"CPU__paneClose",children:"Close"}),Object(k.jsx)(ve,{gotoAddress:this.gotoDisasm,includePC:!0,promptGotoMarker:this.state.promptGotoMarker}),Object(k.jsx)(Ce,{gotoDisasm:this.gotoDisasm})]}),Object(k.jsxs)("div",{className:"Disasm__container",children:[Object(k.jsx)(pe,{stepping:t&&!n,started:s,currentThread:r,updateCurrentThread:this.updateCurrentThread,showNavTray:this.showNavTray}),Object(k.jsx)(de,Object(l.a)(Object(l.a)({},p),{},{updateSelection:this.updateSelection,promptGoto:this.promptGoto}))]})]})}},{key:"componentDidMount",value:function(){var e=this;this.listeners_=y.listen({connection:function(){return e.onConnection()},"cpu.stepping":function(t){return e.onStepping(t)},"game.start":function(){e.state.setInitialPC||e.updateInitialPC()},"game.quit":function(){e.setState({setInitialPC:!1})},"cpu.setReg":function(t){if(0===t.category&&32===t.register){var n=t.uintValue;e.state.setInitialPC||e.gotoDisasm(n),e.setState({setInitialPC:0!==n})}},"cpu.getAllRegs":function(t){var n=t.categories[0].uintValues[32];e.state.setInitialPC||e.gotoDisasm(n),e.setState({setInitialPC:0!==n})}})}},{key:"componentWillUnmount",value:function(){y.forget(this.listeners_)}},{key:"onConnection",value:function(){var e=this;this.context.ppsspp.send({event:"cpu.status"}).then((function(t){var n=t.pc,s=t.ticks;e.state.setInitialPC||e.gotoDisasm(n),e.setState({setInitialPC:0!==n,ticks:s,lastTicks:s})}))}},{key:"onStepping",value:function(e){this.setState({selectionTop:e.pc,selectionBottom:e.pc,lastTicks:this.state.ticks,ticks:e.ticks})}}]),n}(s.PureComponent));_e.contextType=C;var we=_e,De=(n(451),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={connected:!1,started:!1,paused:!0,recording:!1},e.beginRecord=function(t){e.setState({recording:!0}),e.context.ppsspp.send({event:"gpu.record.dump"}).then((function(t){var n=document.createElement("a");n.setAttribute("download","recording.ppdmp"),n.href=t.uri,n.hidden=!0,document.body.appendChild(n),n.click(),document.body.removeChild(n),e.setState({recording:!1})})),t.preventDefault()},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{id:"GPU",children:[Object(k.jsx)("div",{className:"GPU__info",children:this.state.started&&!this.state.paused?"Click below to generate a GE dump.  It will download as a file.":"Waiting for a game to start..."}),this.state.started&&!this.state.paused?Object(k.jsx)("form",{className:"GPU__form",onSubmit:this.beginRecord,children:Object(k.jsx)("button",{disabled:this.state.recording,children:this.state.recording?"Recording...":"Record"})}):null]})}},{key:"componentDidMount",value:function(){var e=this;this.listeners_=y.listen({connection:function(){return e.onConnection()},"connection.change":function(t){return e.onConnectionChange(t)},"game.start":function(){return e.setState({started:!0,paused:!1})},"game.quit":function(){return e.setState({started:!1,paused:!0})},"game.pause":function(){return e.setState({paused:!0})},"game.resume":function(){return e.setState({paused:!1})}})}},{key:"componentWillUnmount",value:function(){y.forget(this.listeners_)}},{key:"onConnectionChange",value:function(e){this.setState({connected:e,started:!1,paused:!0})}},{key:"onConnection",value:function(){var e=this;this.context.ppsspp.send({event:"cpu.status"}).then((function(t){var n=t.stepping,s=t.paused,a=0!==t.pc||n;e.setState({connected:!0,started:a,paused:s})}),(function(t){e.setState({paused:!0})}))}}]),n}(s.PureComponent));De.contextType=C;var Te=De,Pe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return"log"===this.props.item.event?this.formatLogEvent():this.renderInternal()}},{key:"renderInternal",value:function(){return Object(k.jsx)("span",{className:this.makeClassName(),children:this.props.item.message})}},{key:"formatLogEvent",value:function(){var e=this.props.item;return Object(k.jsxs)("span",{className:this.makeClassName(),children:[Object(k.jsxs)("span",{className:"Log__message__header",children:[Object(k.jsx)("span",{className:"Log__message__timestamp",children:e.timestamp})," "+e.header+" "]}),e.message]})}},{key:"makeClassName",value:function(){var e,t=this.props.item;return Object(M.a)("Log__message",(e={"Log__message--internal":"log"!==t.event},Object(P.a)(e,"Log__message--channel-"+t.channel,"log"===t.event),Object(P.a)(e,"Log__message--level-"+t.level,!0),e))}}]),n}(s.PureComponent),Ne=(n(452),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={id:0,items:[]},a.divRef=Object(s.createRef)(),a}return Object(d.a)(n,[{key:"render",value:function(){return Object(k.jsx)("div",{id:"Log",ref:this.divRef,children:this.state.items.map(this.renderItem.bind(this))})}},{key:"renderItem",value:function(e){return Object(k.jsx)(Pe,{item:e},e.id)}},{key:"addLogItem",value:function(e){var t=this.state.id+1,n=Object(l.a)({id:t},e),s=this.state.items.concat([n]).slice(-5e3);this.setState({id:t,items:s})}},{key:"componentDidMount",value:function(){var e=this;this.context.ppsspp.onError=function(t,n){var s={message:t+"\n",level:n};e.addLogItem(s)},this.listeners_=y.listen({log:this.onLogEvent.bind(this)})}},{key:"componentDidUpdate",value:function(e,t){if(t.id!==this.state.id){var n=this.divRef.current;n.scrollTop=n.scrollHeight-n.clientHeight}}},{key:"componentWillUnmount",value:function(){y.forget(this.listeners_)}},{key:"onLogEvent",value:function(e){var t=Object(l.a)({},e);this.addLogItem(t)}}]),n}(s.PureComponent));Ne.contextType=C;var Be=Ne;n(453);function Le(e){return Object(k.jsxs)("div",{id:"NotConnected",children:[e.connecting?"Connecting to PPSSPP...":"Not connected to PPSSPP",Object(k.jsx)("div",{className:"NotConnected__info",children:'Make sure "Allow remote debugger" is enabled in Developer tools.'}),Object(k.jsxs)("form",{className:"NotConnected__form",onSubmit:function(t){var n=t.target.elements["debugger-uri"].value;e.connect(n),t.preventDefault()},children:[Object(k.jsx)("input",{type:"text",name:"debugger-uri",placeholder:"ws://ip:port/debugger",className:"NotConnected__uri"}),Object(k.jsx)("button",{disabled:e.connecting,children:"Connect Manually"})]}),Object(k.jsx)("form",{className:"NotConnected__form",onSubmit:function(t){e.connect(null),t.preventDefault()},children:Object(k.jsx)("button",{disabled:e.connecting,children:"Connect Automatically"})})]})}var Re=n.p+"static/media/logo.94f885ce.svg",Me=(n(454),{name:"ppsspp-debugger",version:"1.0.0"}),Ve=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).state={connected:!1,connecting:!1,gameStatus:null},s.handleAutoConnect=function(){s.connect(null)},s.connect=function(e){s.setState({connecting:!0}),s.ppsspp.onClose=function(){s.log("Debugger disconnected"),y.change(!1),s.setState({connected:!1,connecting:!1})},(null===e?s.ppsspp.autoConnect():s.ppsspp.connect(e)).then((function(){s.log("Debugger connected"),y.change(!0),s.setState({connected:!0,connecting:!1})}),(function(e){s.log("Debugger could not connect"),y.change(!1),s.setState({connected:!1,connecting:!1})}))},s.handleDisconnect=function(){s.ppsspp.disconnect()},s.log=function(e){s.logRef.current?s.logRef.current.addLogItem({message:e+"\n"}):console.error(e)},s.updateTitle=function(e){document&&(e.game?document.title=s.originalTitle+" - "+e.game.id+": "+e.game.title:document.title=s.originalTitle)},s.onConnectionChange=function(e){e?(s.ppsspp.send(Object(l.a)({event:"version"},Me)).catch((function(e){window.alert("PPSSPP seems to think this debugger is out of date.  Try refreshing?\n\nDetails: "+e)})),s.ppsspp.send({event:"game.status"}).then(s.updateTitle,(function(e){return s.updateTitle({})}))):s.updateTitle({})},s.logRef=a.a.createRef(),s.ppsspp=new j,s.gameStatus=new O,s.originalTitle=document.title,y.init(s.ppsspp),y.listen({"connection.change":s.onConnectionChange,"game.start":s.updateTitle,"game.quit":s.updateTitle}),s.gameStatus.init(s.ppsspp),s.gameStatus.listenState((function(e){s.setState({gameStatus:e})})),s}return Object(d.a)(n,[{key:"render",value:function(){return Object(k.jsx)(f.a,{children:Object(k.jsx)(_,{gameStatus:this.state.gameStatus,log:this.log,ppsspp:this.ppsspp,children:Object(k.jsxs)("div",{className:"App",children:[Object(k.jsxs)("header",{className:"App-header",children:[Object(k.jsxs)("ul",{className:"App-nav",children:[Object(k.jsx)(f.b,{to:"/cpu",isActive:function(e,t){return e||"/"===t.pathname},children:"CPU"}),Object(k.jsx)(f.b,{to:"/gpu",children:"GPU"})]}),Object(k.jsx)("img",{src:Re,className:"App-logo",alt:"PPSSPP"}),Object(k.jsx)("h1",{className:"App-title",children:"Debugger"})]}),this.renderContent(),Object(k.jsx)(Be,{ref:this.logRef})]})})})}},{key:"renderContent",value:function(){return this.state.connected?Object(k.jsxs)(v.c,{children:[Object(k.jsx)(v.a,{path:"/gpu",children:Object(k.jsx)(Te,{})}),Object(k.jsx)(v.a,{children:Object(k.jsx)(we,{})})]}):Object(k.jsx)(Le,{connecting:this.state.connecting,connect:this.connect})}},{key:"componentDidMount",value:function(){this.props.testing||this.handleAutoConnect()}}]),n}(s.Component),Ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(387),n(457),n(465);i.a.render(Object(k.jsx)(Ve,{}),document.getElementById("root")),c.a.setAppElement("#root"),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Ae?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Fe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Fe(e)}))}}()}},[[469,1,2]]]);
//# sourceMappingURL=main.ccb30c54.chunk.js.map